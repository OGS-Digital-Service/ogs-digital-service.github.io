var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=function(){var resolveOptions,assembleOptionsString,parseCookies,constructor,defaultOptions={expiresAt:null,path:"/",domain:null,secure:!1};return resolveOptions=function(options){var returnValue,expireDate;return"object"!=typeof options||null===options?returnValue=defaultOptions:(returnValue={expiresAt:defaultOptions.expiresAt,path:defaultOptions.path,domain:defaultOptions.domain,secure:defaultOptions.secure},"object"==typeof options.expiresAt&&options.expiresAt instanceof Date?returnValue.expiresAt=options.expiresAt:"number"==typeof options.hoursToLive&&0!==options.hoursToLive&&(expireDate=new Date,expireDate.setTime(expireDate.getTime()+60*options.hoursToLive*60*1e3),returnValue.expiresAt=expireDate),"string"==typeof options.path&&""!==options.path&&(returnValue.path=options.path),"string"==typeof options.domain&&""!==options.domain&&(returnValue.domain=options.domain),options.secure===!0&&(returnValue.secure=options.secure)),returnValue},assembleOptionsString=function(options){return options=resolveOptions(options),("object"==typeof options.expiresAt&&options.expiresAt instanceof Date?"; expires="+options.expiresAt.toGMTString():"")+"; path="+options.path+("string"==typeof options.domain?"; domain="+options.domain:"")+(options.secure===!0?"; secure":"")},parseCookies=function(){var i,pair,name,value,unparsedValue,cookies={},separated=document.cookie.split(";");for(i=0;i<separated.length;i+=1){pair=separated[i].split("="),name=pair[0].replace(/^\s*/,"").replace(/\s*$/,"");try{value=decodeURIComponent(pair[1])}catch(e1){value=pair[1]}if("object"==typeof JSON&&null!==JSON&&"function"==typeof JSON.parse)try{unparsedValue=value,value=JSON.parse(value)}catch(e2){value=unparsedValue}cookies[name]=value}return cookies},constructor=function(){},constructor.prototype.get=function(cookieName){var returnValue,item,cookies=parseCookies();if("string"==typeof cookieName)returnValue="undefined"!=typeof cookies[cookieName]?cookies[cookieName]:null;else if("object"==typeof cookieName&&null!==cookieName){returnValue={};for(item in cookieName)"undefined"!=typeof cookies[cookieName[item]]?returnValue[cookieName[item]]=cookies[cookieName[item]]:returnValue[cookieName[item]]=null}else returnValue=cookies;return returnValue},constructor.prototype.filter=function(cookieNameRegExp){var cookieName,returnValue={},cookies=parseCookies();"string"==typeof cookieNameRegExp&&(cookieNameRegExp=new RegExp(cookieNameRegExp));for(cookieName in cookies)cookieName.match(cookieNameRegExp)&&(returnValue[cookieName]=cookies[cookieName]);return returnValue},constructor.prototype.set=function(cookieName,value,options){if(("object"!=typeof options||null===options)&&(options={}),"undefined"==typeof value||null===value)value="",options.hoursToLive=-8760;else if("string"!=typeof value){if("object"!=typeof JSON||null===JSON||"function"!=typeof JSON.stringify)throw new Error("cookies.set() received non-string value and could not serialize.");value=JSON.stringify(value)}var optionsString=assembleOptionsString(options);document.cookie=cookieName+"="+encodeURIComponent(value)+optionsString},constructor.prototype.del=function(cookieName,options){var name,allCookies={};("object"!=typeof options||null===options)&&(options={}),"boolean"==typeof cookieName&&cookieName===!0?allCookies=this.get():"string"==typeof cookieName&&(allCookies[cookieName]=!0);for(name in allCookies)"string"==typeof name&&""!==name&&this.set(name,null,options)},constructor.prototype.test=function(){var returnValue=!1,testName="cT",testValue="data";return this.set(testName,testValue),this.get(testName)===testValue&&(this.del(testName),returnValue=!0),returnValue},constructor.prototype.setOptions=function(options){"object"!=typeof options&&(options=null),defaultOptions=resolveOptions(options)},new constructor}(),function(){window.jQuery&&!function($){$.cookies=jaaulde.utils.cookies;var extensions={cookify:function(options){return this.each(function(){var i,name,value,nameAttrs=["name","id"],$this=$(this);for(i in nameAttrs)if(!isNaN(i)&&(name=$this.attr(nameAttrs[i]),"string"==typeof name&&""!==name)){$this.is(":checkbox, :radio")?$this.attr("checked")&&(value=$this.val()):value=$this.is(":input")?$this.val():$this.html(),("string"!=typeof value||""===value)&&(value=null),$.cookies.set(name,value,options);break}})},cookieFill:function(){return this.each(function(){var n,getN,name,value,nameAttrs=["name","id"],$this=$(this);for(getN=function(){return n=nameAttrs.pop(),!!n};getN();)if(name=$this.attr(n),"string"==typeof name&&""!==name){value=$.cookies.get(name),null!==value&&($this.is(":checkbox, :radio")?$this.val()===value?$this.attr("checked","checked"):$this.removeAttr("checked"):$this.is(":input")?$this.val(value):$this.html(value));break}})},cookieBind:function(options){return this.each(function(){var $this=$(this);$this.cookieFill().change(function(){$this.cookify(options)})})}};$.each(extensions,function(i){$.fn[i]=this})}(window.jQuery)}();
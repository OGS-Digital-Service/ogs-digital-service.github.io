{% set socialMedias = [
  {
    name: 'facebook',
    regex: '/facebook\.com/i',
    icon: 'icon-facebook'
  },
  {
    name: 'twitter',
    regex: '/twitter\.com/i',
    icon: 'icon-twitter'
  },
  {
    name: 'youtube',
    regex: '/youtube\.com/i',
    icon: 'icon-youtube'
  },
  {
    name: 'instagram',
    regex: '/instagram\.com/i',
    icon: 'icon-instagram'
  },
  {
    name: 'flickr',
    regex: '/flickr\.com/i',
    icon: 'icon-flickr'
  },
  {
    name: 'rss feed',
    regex: '/rss/i',
    icon: 'icon-rss'
  },
  {
    name: 'linkedIn',
    regex: '/linkedin\.com/i',
    icon: 'icon-linkedin'
  },
  {
    name: 'soundcloud',
    regex: '/soundcloud\.com/i',
    icon: 'icon-soundcloud'
  },
  {
    name: 'vimeo',
    regex: '/vimeo\.com/i',
    icon: 'icon-vimeo'
  },
  {
    name: 'tumblr',
    regex: '/tumblr\.com/i',
    icon: 'icon-tumblr'
  },
  {
    name: 'pinterest',
    regex: '/pinterest\.com/i',
    icon: 'icon-pinterest'
  },
  {
    name: 'google play',
    regex: '/google\.com/i',
    icon: 'icon-google-play'
  },
  {
    name: 'apple store',
    regex: '/apple\.com/i',
    icon: 'icon-apple'
  },
  {
    name: 'snapchat',
    regex: '/snapchat\.com/i',
    icon: 'icon-snapchat'
  }
] %}
<div class="o-connectFooterMenu">
  <div class="o-connectFooterMenu__title">CONNECT WITH US</div>
  <div class="o-connectFooterMenu__wrapper">
    <div class="o-connectFooterMenu__socials">

      {# Loop through social medias links field #}
      {% for social in menu.links %}
        {% if social.url %}

          {% set socialLinkClasses = [
            'o-connectFooterMenu__socialLink',
            loop.first ? '-first' : loop.last ? '-last' : '',
          ] %}

          {# Output of each social media links #}
          {% for socialMedia in socialMedias %}
            {% if social.url.path matches socialMedia.regex %}
              <div class="{{ socialLinkClasses|join(' ')|trim }}">
                {% include "@storybook/03-Molecules/socialLink/socialLink.twig" with {
                  link: social.url.path, name: socialMedia.name, iconClass: socialMedia.icon
                } %}
              </div>
            {% endif %}
          {% endfor %}
          {# End of social media links#}
        {% endif %}
      {% endfor %}
      {# End of social media links field loop #}

    </div>
  </div>
</div>
